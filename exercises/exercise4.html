<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      div {
        font-family: "Arial";
      }
    </style>
  </head>

  <body>
    <script>
      //make an svg element and append it to the body
      var svg = d3
        .select("body")
        .append("svg")
        .attr("width", 400)
        .attr("height", 400)
        .style("border", "1px solid green");

      //make an svg circle element and append it to the center of the svg
      svg
        .append("circle")
        .attr("cx", 200)
        .attr("cy", 200)
        .attr("r", 100)
        .attr("fill", "blue");

      //add mouseover and mouseout events to the circle element
      d3.selectAll("circle")
        .on("mouseover", function (event) {
          d3.select("div").remove();
          d3.select("body").append("div").text("Current event: Mouseover");

          d3.select(this).transition().attr("r", 200).style("fill", "orange");

          // Get current event info
          // Note: d3.event  (event) passed as the first argument to all listeners
          // console.log(event);

          // Get x & y co-ordinates
          // Note: d3.mouse was removed in d3v6, you should use d3.pointer(event)
          console.log(d3.pointer(event));
        })
        .on("mouseout", function () {
          d3.select("div").remove();
          d3.select("body").append("div").text("Current event: Mouseout");

          d3.select(this)
            .transition()
            .attr("r", 100)
            .style("fill", "steelblue");
        });
    </script>
    <div>Current event: Mouseout</div>
  </body>
</html>
