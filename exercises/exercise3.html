<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      span {
        position: absolute;
        top: 70px;
        left: 10px;
        font-family: "Arial";
      }
    </style>
  </head>

  <body>
    <script>
      d3.select("body")
        .append("div")
        .style("width", "100px")
        .style("height", "20px")
        .style("background-color", "green");

      d3.selectAll("div")
        //adds a mouseover event to the div element
        .on("mouseover", function (event) {
          //when the mouse is over the div element (referred to as 'this' by the event), its styles are changed
          d3.select(this)
            .transition()
            .style("background-color", "orange")
            .style("border", "5px steelblue solid")
            .style("border-radius", "2px")
            .style("width", "200px")
            .style("height", "40px");

          d3.select("span").remove();
          d3.select("body").append("span").text("Current event: Mouseover");

          // Get current event info
          // Note: d3.event  (event) passed as the first argument to all listeners
          // console.log(event);

          // Get x & y co-ordinates
          // Note: d3.mouse was removed in d3v6, you should use d3.pointer(event)
          console.log(d3.pointer(event));
        })
        //adds a mouseout event to the div element
        .on("mouseout", function () {
          //when the mouse leaves the div element, its styles are changed again
          d3.select(this)
            .transition()
            .style("background-color", "steelblue")
            .style("border", "5px orange solid")
            .style("border-radius", "2px")
            .style("width", "100px")
            .style("height", "10px");

          d3.select("span").remove();
          d3.select("body").append("span").text("Current event: Mouseout");
        });
    </script>
    <span>Current event: Mouseout</span>
  </body>
</html>
